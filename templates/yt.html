<!-- templates/youtube.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Chat with YouTube</title>
</head>
<body>
  <h1>Chat with YouTube Video</h1>

  {% with messages = get_flashed_messages() %}
    {% if messages %}
      <ul>
      {% for msg in messages %}
        <li>{{ msg }}</li>
      {% endfor %}
      </ul>
    {% endif %}
  {% endwith %}

  <form action="{{ url_for('process_youtube') }}" method="POST">
    <input type="text" name="youtube_url" placeholder="Enter YouTube URL" required>
    <button type="submit">Transcribe Video</button>
  </form>

  {% if video_id %}
    <h3>Video Preview:</h3>
    <iframe width="560" height="315"
            src="https://www.youtube.com/embed/{{ video_id }}"
            frameborder="0" allowfullscreen></iframe>
    <br><br>

    <form action="{{ url_for('ask_youtube') }}" method="POST">
      <input type="text" name="question" placeholder="Ask something about the video" required>
      <button type="submit">Ask</button>
    </form>

    {% if answer %}
      <h3>Answer:</h3>
      <p>{{ answer }}</p>
    {% endif %}

    <br>
    <form action="{{ url_for('download_transcript') }}">
      <button type="submit">Download Transcript as PDF</button>
    </form>
  {% endif %}

</body>
</html>
